# Maintainer: Guten Ye

pkgname="hello"
pkgver=1.0.0
pkgrel=1
pkgdesc="FIXME"
arch=("i686" "x86_64") # any for architecture independent packages, e.g. ruby scripts
url="FIXME"
license=("Unkown")
backup=("etc/hello")
depends=()
optdepends=("cups: printing support")
makedepends=()
 _carch=$([ $CARCH == "x86_64" ] && echo "64" || echo "32")
if [ $CARCH = "x86_64" ]; then
  _carch="64"
else
  _carch="32"
fi
source=(
  "$pkgname-$pkgver.tar.gz::https://github.com/USER/PROJECT/archive/v$pkgver.tar.gz")
noextract=()
md5sums=() # autofilled

########### git
pkgname="hello-git"
conflicts=("hello")
provides=("hello")
makedepends=("git")
source=("project_name::git+http://project_url#branch=project_branch")
md5sums=("SKIP")

##############
prepare() {
	cd "$srcdir/$pkgname-$pkgver"

	patch -p1 -i "$srcdir/$pkgname-$pkgver.patch"
}

build() {
	cd "$srcdir/$pkgname-$pkgver"

	./configure --prefix=/usr
	make
}

check() {
	cd "$srcdir/$pkgname-$pkgver"

	make -k check
}

package() {
	cd "$srcdir/$pkgname-$pkgver"

	make DESTDIR="$pkgdir/" install

  install -d "$pkgdir/foo"                    # make directories
  install -D -m644 filea "$pkgdir/foo/filea"  # -D auto make directories, -m mode
  install -g 1000 -o 1000 -Dm755              # change permission

  mkdir -p "$pkgdir/usr/bin"
  cp freedom-routes "$pkgdir/usr/bin"
}

################
# sourceforge url
"http://downloads.sourceforge.net/$pkgname/$pkgname-$pkgver.tar.gz"  # last part read from Summary page.

# deb package
ar xvf a.deb
tar xvf data.tar.gz

# for python
sed -ir '1s/python2?/python2/' a.py

# patch
patch -Np1 < ../a.patch

# vim:set ts=2 sw=2 et:
